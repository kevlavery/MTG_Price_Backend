import ***REMOVED***extend***REMOVED*** from '../utils';

export default function(instance) ***REMOVED***
  instance.registerDecorator('inline', function(fn, props, container, options) ***REMOVED***
    let ret = fn;
    if (!props.partials) ***REMOVED***
      props.partials = ***REMOVED******REMOVED***;
      ret = function(context, options) ***REMOVED***
        // Create a new partials stack frame prior to exec.
        let original = container.partials;
        container.partials = extend(***REMOVED******REMOVED***, original, props.partials);
        let ret = fn(context, options);
        container.partials = original;
        return ret;
      ***REMOVED***;
    ***REMOVED***

    props.partials[options.args[0]] = options.fn;

    return ret;
  ***REMOVED***);
***REMOVED***
