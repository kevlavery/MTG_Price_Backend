
const errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack'];

function Exception(message, node) ***REMOVED***
  let loc = node && node.loc,
      line,
      column;
  if (loc) ***REMOVED***
    line = loc.start.line;
    column = loc.start.column;

    message += ' - ' + line + ':' + column;
  ***REMOVED***

  let tmp = Error.prototype.constructor.call(this, message);

  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.
  for (let idx = 0; idx < errorProps.length; idx++) ***REMOVED***
    this[errorProps[idx]] = tmp[errorProps[idx]];
  ***REMOVED***

  /* istanbul ignore else */
  if (Error.captureStackTrace) ***REMOVED***
    Error.captureStackTrace(this, Exception);
  ***REMOVED***

  if (loc) ***REMOVED***
    this.lineNumber = line;
    this.column = column;
  ***REMOVED***
***REMOVED***

Exception.prototype = new Error();

export default Exception;
