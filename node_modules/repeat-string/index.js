/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */

'use strict';

/**
 * Results cache
 */

var res = '';
var cache;

/**
 * Expose `repeat`
 */

module.exports = repeat;

/**
 * Repeat the given `string` the specified `number`
 * of times.
 *
 * **Example:**
 *
 * ```js
 * var repeat = require('repeat-string');
 * repeat('A', 5);
 * //=> AAAAA
 * ```
 *
 * @param ***REMOVED***String***REMOVED*** `string` The string to repeat
 * @param ***REMOVED***Number***REMOVED*** `number` The number of times to repeat the string
 * @return ***REMOVED***String***REMOVED*** Repeated string
 * @api public
 */

function repeat(str, num) ***REMOVED***
  if (typeof str !== 'string') ***REMOVED***
    throw new TypeError('expected a string');
  ***REMOVED***

  // cover common, quick use cases
  if (num === 1) return str;
  if (num === 2) return str + str;

  var max = str.length * num;
  if (cache !== str || typeof cache === 'undefined') ***REMOVED***
    cache = str;
    res = '';
  ***REMOVED*** else if (res.length >= max) ***REMOVED***
    return res.substr(0, max);
  ***REMOVED***

  while (max > res.length && num > 1) ***REMOVED***
    if (num & 1) ***REMOVED***
      res += str;
    ***REMOVED***

    num >>= 1;
    str += str;
  ***REMOVED***

  res += str;
  res = res.substr(0, max);
  return res;
***REMOVED***
