'use strict';

const CastError = require('../error/cast');

/*!
 * Given a value, cast it to a boolean, or throw a `CastError` if the value
 * cannot be casted. `null` and `undefined` are considered valid.
 *
 * @param ***REMOVED***Any***REMOVED*** value
 * @param ***REMOVED***String***REMOVED*** [path] optional the path to set on the CastError
 * @return ***REMOVED***Boolean|null|undefined***REMOVED***
 * @throws ***REMOVED***CastError***REMOVED*** if `value` is not one of the allowed values
 * @api private
 */

module.exports = function castBoolean(value, path) ***REMOVED***
  if (value == null) ***REMOVED***
    return value;
  ***REMOVED***

  if (module.exports.convertToTrue.has(value)) ***REMOVED***
    return true;
  ***REMOVED***
  if (module.exports.convertToFalse.has(value)) ***REMOVED***
    return false;
  ***REMOVED***
  throw new CastError('boolean', value, path);
***REMOVED***;

module.exports.convertToTrue = new Set([true, 'true', 1, '1', 'yes']);
module.exports.convertToFalse = new Set([false, 'false', 0, '0', 'no']);
