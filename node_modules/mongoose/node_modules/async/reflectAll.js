'use strict';

Object.defineProperty(exports, "__esModule", ***REMOVED***
    value: true
***REMOVED***);
exports.default = reflectAll;

var _reflect = require('./reflect');

var _reflect2 = _interopRequireDefault(_reflect);

var _isArray = require('lodash/isArray');

var _isArray2 = _interopRequireDefault(_isArray);

var _arrayMap2 = require('lodash/_arrayMap');

var _arrayMap3 = _interopRequireDefault(_arrayMap2);

var _baseForOwn = require('lodash/_baseForOwn');

var _baseForOwn2 = _interopRequireDefault(_baseForOwn);

function _interopRequireDefault(obj) ***REMOVED*** return obj && obj.__esModule ? obj : ***REMOVED*** default: obj ***REMOVED***; ***REMOVED***

/**
 * A helper function that wraps an array or an object of functions with `reflect`.
 *
 * @name reflectAll
 * @static
 * @memberOf module:Utils
 * @method
 * @see [async.reflect]***REMOVED***@link module:Utils.reflect***REMOVED***
 * @category Util
 * @param ***REMOVED***Array|Object|Iterable***REMOVED*** tasks - The collection of
 * [async functions]***REMOVED***@link AsyncFunction***REMOVED*** to wrap in `async.reflect`.
 * @returns ***REMOVED***Array***REMOVED*** Returns an array of async functions, each wrapped in
 * `async.reflect`
 * @example
 *
 * let tasks = [
 *     function(callback) ***REMOVED***
 *         setTimeout(function() ***REMOVED***
 *             callback(null, 'one');
 *         ***REMOVED***, 200);
 *     ***REMOVED***,
 *     function(callback) ***REMOVED***
 *         // do some more stuff but error ...
 *         callback(new Error('bad stuff happened'));
 *     ***REMOVED***,
 *     function(callback) ***REMOVED***
 *         setTimeout(function() ***REMOVED***
 *             callback(null, 'two');
 *         ***REMOVED***, 100);
 *     ***REMOVED***
 * ];
 *
 * async.parallel(async.reflectAll(tasks),
 * // optional callback
 * function(err, results) ***REMOVED***
 *     // values
 *     // results[0].value = 'one'
 *     // results[1].error = Error('bad stuff happened')
 *     // results[2].value = 'two'
 * ***REMOVED***);
 *
 * // an example using an object instead of an array
 * let tasks = ***REMOVED***
 *     one: function(callback) ***REMOVED***
 *         setTimeout(function() ***REMOVED***
 *             callback(null, 'one');
 *         ***REMOVED***, 200);
 *     ***REMOVED***,
 *     two: function(callback) ***REMOVED***
 *         callback('two');
 *     ***REMOVED***,
 *     three: function(callback) ***REMOVED***
 *         setTimeout(function() ***REMOVED***
 *             callback(null, 'three');
 *         ***REMOVED***, 100);
 *     ***REMOVED***
 * ***REMOVED***;
 *
 * async.parallel(async.reflectAll(tasks),
 * // optional callback
 * function(err, results) ***REMOVED***
 *     // values
 *     // results.one.value = 'one'
 *     // results.two.error = 'two'
 *     // results.three.value = 'three'
 * ***REMOVED***);
 */
function reflectAll(tasks) ***REMOVED***
    var results;
    if ((0, _isArray2.default)(tasks)) ***REMOVED***
        results = (0, _arrayMap3.default)(tasks, _reflect2.default);
    ***REMOVED*** else ***REMOVED***
        results = ***REMOVED******REMOVED***;
        (0, _baseForOwn2.default)(tasks, function (task, key) ***REMOVED***
            results[key] = _reflect2.default.call(this, task);
        ***REMOVED***);
    ***REMOVED***
    return results;
***REMOVED***
module.exports = exports['default'];