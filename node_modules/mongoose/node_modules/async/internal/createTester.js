'use strict';

Object.defineProperty(exports, "__esModule", ***REMOVED***
    value: true
***REMOVED***);
exports.default = _createTester;

var _noop = require('lodash/noop');

var _noop2 = _interopRequireDefault(_noop);

var _breakLoop = require('./breakLoop');

var _breakLoop2 = _interopRequireDefault(_breakLoop);

function _interopRequireDefault(obj) ***REMOVED*** return obj && obj.__esModule ? obj : ***REMOVED*** default: obj ***REMOVED***; ***REMOVED***

function _createTester(eachfn, check, getResult) ***REMOVED***
    return function (arr, limit, iteratee, cb) ***REMOVED***
        function done() ***REMOVED***
            if (cb) ***REMOVED***
                cb(null, getResult(false));
            ***REMOVED***
        ***REMOVED***
        function wrappedIteratee(x, _, callback) ***REMOVED***
            if (!cb) return callback();
            iteratee(x, function (err, v) ***REMOVED***
                // Check cb as another iteratee may have resolved with a
                // value or error since we started this iteratee
                if (cb && (err || check(v))) ***REMOVED***
                    if (err) cb(err);else cb(err, getResult(true, x));
                    cb = iteratee = false;
                    callback(err, _breakLoop2.default);
                ***REMOVED*** else ***REMOVED***
                    callback();
                ***REMOVED***
            ***REMOVED***);
        ***REMOVED***
        if (arguments.length > 3) ***REMOVED***
            cb = cb || _noop2.default;
            eachfn(arr, limit, wrappedIteratee, done);
        ***REMOVED*** else ***REMOVED***
            cb = iteratee;
            cb = cb || _noop2.default;
            iteratee = limit;
            eachfn(arr, wrappedIteratee, done);
        ***REMOVED***
    ***REMOVED***;
***REMOVED***
module.exports = exports['default'];