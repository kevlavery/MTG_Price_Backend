'use strict';

Object.defineProperty(exports, "__esModule", ***REMOVED***
    value: true
***REMOVED***);
exports.default = iterator;

var _isArrayLike = require('lodash/isArrayLike');

var _isArrayLike2 = _interopRequireDefault(_isArrayLike);

var _getIterator = require('./getIterator');

var _getIterator2 = _interopRequireDefault(_getIterator);

var _keys = require('lodash/keys');

var _keys2 = _interopRequireDefault(_keys);

function _interopRequireDefault(obj) ***REMOVED*** return obj && obj.__esModule ? obj : ***REMOVED*** default: obj ***REMOVED***; ***REMOVED***

function createArrayIterator(coll) ***REMOVED***
    var i = -1;
    var len = coll.length;
    return function next() ***REMOVED***
        return ++i < len ? ***REMOVED*** value: coll[i], key: i ***REMOVED*** : null;
    ***REMOVED***;
***REMOVED***

function createES2015Iterator(iterator) ***REMOVED***
    var i = -1;
    return function next() ***REMOVED***
        var item = iterator.next();
        if (item.done) return null;
        i++;
        return ***REMOVED*** value: item.value, key: i ***REMOVED***;
    ***REMOVED***;
***REMOVED***

function createObjectIterator(obj) ***REMOVED***
    var okeys = (0, _keys2.default)(obj);
    var i = -1;
    var len = okeys.length;
    return function next() ***REMOVED***
        var key = okeys[++i];
        return i < len ? ***REMOVED*** value: obj[key], key: key ***REMOVED*** : null;
    ***REMOVED***;
***REMOVED***

function iterator(coll) ***REMOVED***
    if ((0, _isArrayLike2.default)(coll)) ***REMOVED***
        return createArrayIterator(coll);
    ***REMOVED***

    var iterator = (0, _getIterator2.default)(coll);
    return iterator ? createES2015Iterator(iterator) : createObjectIterator(coll);
***REMOVED***
module.exports = exports['default'];