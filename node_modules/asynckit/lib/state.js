// API
module.exports = state;

/**
 * Creates initial state object
 * for iteration over list
 *
 * @param   ***REMOVED***array|object***REMOVED*** list - list to iterate over
 * @param   ***REMOVED***function|null***REMOVED*** sortMethod - function to use for keys sort,
 *                                     or `null` to keep them as is
 * @returns ***REMOVED***object***REMOVED*** - initial state object
 */
function state(list, sortMethod)
***REMOVED***
  var isNamedList = !Array.isArray(list)
    , initState =
    ***REMOVED***
      index    : 0,
      keyedList: isNamedList || sortMethod ? Object.keys(list) : null,
      jobs     : ***REMOVED******REMOVED***,
      results  : isNamedList ? ***REMOVED******REMOVED*** : [],
      size     : isNamedList ? Object.keys(list).length : list.length
    ***REMOVED***
    ;

  if (sortMethod)
  ***REMOVED***
    // sort array keys based on it's values
    // sort object's keys just on own merit
    initState.keyedList.sort(isNamedList ? sortMethod : function(a, b)
    ***REMOVED***
      return sortMethod(list[a], list[b]);
    ***REMOVED***);
  ***REMOVED***

  return initState;
***REMOVED***
