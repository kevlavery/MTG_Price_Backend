var baseIteratee = require('./_baseIteratee'),
    isArrayLike = require('./isArrayLike'),
    keys = require('./keys');

/**
 * Creates a `_.find` or `_.findLast` function.
 *
 * @private
 * @param ***REMOVED***Function***REMOVED*** findIndexFunc The function to find the collection index.
 * @returns ***REMOVED***Function***REMOVED*** Returns the new find function.
 */
function createFind(findIndexFunc) ***REMOVED***
  return function(collection, predicate, fromIndex) ***REMOVED***
    var iterable = Object(collection);
    if (!isArrayLike(collection)) ***REMOVED***
      var iteratee = baseIteratee(predicate, 3);
      collection = keys(collection);
      predicate = function(key) ***REMOVED*** return iteratee(iterable[key], key, iterable); ***REMOVED***;
    ***REMOVED***
    var index = findIndexFunc(collection, predicate, fromIndex);
    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;
  ***REMOVED***;
***REMOVED***

module.exports = createFind;
