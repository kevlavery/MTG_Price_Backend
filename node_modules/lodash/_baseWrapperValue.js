var LazyWrapper = require('./_LazyWrapper'),
    arrayPush = require('./_arrayPush'),
    arrayReduce = require('./_arrayReduce');

/**
 * The base implementation of `wrapperValue` which returns the result of
 * performing a sequence of actions on the unwrapped `value`, where each
 * successive action is supplied the return value of the previous.
 *
 * @private
 * @param ***REMOVED*******REMOVED*** value The unwrapped value.
 * @param ***REMOVED***Array***REMOVED*** actions Actions to perform to resolve the unwrapped value.
 * @returns ***REMOVED*******REMOVED*** Returns the resolved value.
 */
function baseWrapperValue(value, actions) ***REMOVED***
  var result = value;
  if (result instanceof LazyWrapper) ***REMOVED***
    result = result.value();
  ***REMOVED***
  return arrayReduce(actions, function(result, action) ***REMOVED***
    return action.func.apply(action.thisArg, arrayPush([result], action.args));
  ***REMOVED***, result);
***REMOVED***

module.exports = baseWrapperValue;
