var apply = require('./_apply'),
    arrayMap = require('./_arrayMap'),
    unzip = require('./unzip');

/**
 * This method is like `_.unzip` except that it accepts `iteratee` to specify
 * how regrouped values should be combined. The iteratee is invoked with the
 * elements of each group: (...group).
 *
 * @static
 * @memberOf _
 * @since 3.8.0
 * @category Array
 * @param ***REMOVED***Array***REMOVED*** array The array of grouped elements to process.
 * @param ***REMOVED***Function***REMOVED*** [iteratee=_.identity] The function to combine
 *  regrouped values.
 * @returns ***REMOVED***Array***REMOVED*** Returns the new array of regrouped elements.
 * @example
 *
 * var zipped = _.zip([1, 2], [10, 20], [100, 200]);
 * // => [[1, 10, 100], [2, 20, 200]]
 *
 * _.unzipWith(zipped, _.add);
 * // => [3, 30, 300]
 */
function unzipWith(array, iteratee) ***REMOVED***
  if (!(array && array.length)) ***REMOVED***
    return [];
  ***REMOVED***
  var result = unzip(array);
  if (iteratee == null) ***REMOVED***
    return result;
  ***REMOVED***
  return arrayMap(result, function(group) ***REMOVED***
    return apply(iteratee, undefined, group);
  ***REMOVED***);
***REMOVED***

module.exports = unzipWith;
