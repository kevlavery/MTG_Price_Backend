var baseAssignValue = require('./_baseAssignValue'),
    createAggregator = require('./_createAggregator');

/**
 * Creates an object composed of keys generated from the results of running
 * each element of `collection` thru `iteratee`. The corresponding value of
 * each key is the last element responsible for generating the key. The
 * iteratee is invoked with one argument: (value).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Collection
 * @param ***REMOVED***Array|Object***REMOVED*** collection The collection to iterate over.
 * @param ***REMOVED***Function***REMOVED*** [iteratee=_.identity] The iteratee to transform keys.
 * @returns ***REMOVED***Object***REMOVED*** Returns the composed aggregate object.
 * @example
 *
 * var array = [
 *   ***REMOVED*** 'dir': 'left', 'code': 97 ***REMOVED***,
 *   ***REMOVED*** 'dir': 'right', 'code': 100 ***REMOVED***
 * ];
 *
 * _.keyBy(array, function(o) ***REMOVED***
 *   return String.fromCharCode(o.code);
 * ***REMOVED***);
 * // => ***REMOVED*** 'a': ***REMOVED*** 'dir': 'left', 'code': 97 ***REMOVED***, 'd': ***REMOVED*** 'dir': 'right', 'code': 100 ***REMOVED*** ***REMOVED***
 *
 * _.keyBy(array, 'dir');
 * // => ***REMOVED*** 'left': ***REMOVED*** 'dir': 'left', 'code': 97 ***REMOVED***, 'right': ***REMOVED*** 'dir': 'right', 'code': 100 ***REMOVED*** ***REMOVED***
 */
var keyBy = createAggregator(function(result, value, key) ***REMOVED***
  baseAssignValue(result, key, value);
***REMOVED***);

module.exports = keyBy;
