/** Used as references for various `Number` constants. */
var MAX_SAFE_INTEGER = 9007199254740991;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeFloor = Math.floor;

/**
 * The base implementation of `_.repeat` which doesn't coerce arguments.
 *
 * @private
 * @param ***REMOVED***string***REMOVED*** string The string to repeat.
 * @param ***REMOVED***number***REMOVED*** n The number of times to repeat the string.
 * @returns ***REMOVED***string***REMOVED*** Returns the repeated string.
 */
function baseRepeat(string, n) ***REMOVED***
  var result = '';
  if (!string || n < 1 || n > MAX_SAFE_INTEGER) ***REMOVED***
    return result;
  ***REMOVED***
  // Leverage the exponentiation by squaring algorithm for a faster repeat.
  // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.
  do ***REMOVED***
    if (n % 2) ***REMOVED***
      result += string;
    ***REMOVED***
    n = nativeFloor(n / 2);
    if (n) ***REMOVED***
      string += string;
    ***REMOVED***
  ***REMOVED*** while (n);

  return result;
***REMOVED***

module.exports = baseRepeat;
