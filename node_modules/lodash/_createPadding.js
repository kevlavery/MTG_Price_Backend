var baseRepeat = require('./_baseRepeat'),
    baseToString = require('./_baseToString'),
    castSlice = require('./_castSlice'),
    hasUnicode = require('./_hasUnicode'),
    stringSize = require('./_stringSize'),
    stringToArray = require('./_stringToArray');

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeCeil = Math.ceil;

/**
 * Creates the padding for `string` based on `length`. The `chars` string
 * is truncated if the number of characters exceeds `length`.
 *
 * @private
 * @param ***REMOVED***number***REMOVED*** length The padding length.
 * @param ***REMOVED***string***REMOVED*** [chars=' '] The string used as padding.
 * @returns ***REMOVED***string***REMOVED*** Returns the padding for `string`.
 */
function createPadding(length, chars) ***REMOVED***
  chars = chars === undefined ? ' ' : baseToString(chars);

  var charsLength = chars.length;
  if (charsLength < 2) ***REMOVED***
    return charsLength ? baseRepeat(chars, length) : chars;
  ***REMOVED***
  var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));
  return hasUnicode(chars)
    ? castSlice(stringToArray(result), 0, length).join('')
    : result.slice(0, length);
***REMOVED***

module.exports = createPadding;
