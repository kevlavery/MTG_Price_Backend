var apply = require('./_apply');

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeMax = Math.max;

/**
 * A specialized version of `baseRest` which transforms the rest array.
 *
 * @private
 * @param ***REMOVED***Function***REMOVED*** func The function to apply a rest parameter to.
 * @param ***REMOVED***number***REMOVED*** [start=func.length-1] The start position of the rest parameter.
 * @param ***REMOVED***Function***REMOVED*** transform The rest array transform.
 * @returns ***REMOVED***Function***REMOVED*** Returns the new function.
 */
function overRest(func, start, transform) ***REMOVED***
  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);
  return function() ***REMOVED***
    var args = arguments,
        index = -1,
        length = nativeMax(args.length - start, 0),
        array = Array(length);

    while (++index < length) ***REMOVED***
      array[index] = args[start + index];
    ***REMOVED***
    index = -1;
    var otherArgs = Array(start + 1);
    while (++index < start) ***REMOVED***
      otherArgs[index] = args[index];
    ***REMOVED***
    otherArgs[start] = transform(array);
    return apply(func, this, otherArgs);
  ***REMOVED***;
***REMOVED***

module.exports = overRest;
