'use strict';
module.exports = function generate__limit(it, $keyword, $ruleType) ***REMOVED***
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $errorKeyword;
  var $data = 'data' + ($dataLvl || '');
  var $isData = it.opts.$data && $schema && $schema.$data,
    $schemaValue;
  if ($isData) ***REMOVED***
    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';
    $schemaValue = 'schema' + $lvl;
  ***REMOVED*** else ***REMOVED***
    $schemaValue = $schema;
  ***REMOVED***
  var $isMax = $keyword == 'maximum',
    $exclusiveKeyword = $isMax ? 'exclusiveMaximum' : 'exclusiveMinimum',
    $schemaExcl = it.schema[$exclusiveKeyword],
    $isDataExcl = it.opts.$data && $schemaExcl && $schemaExcl.$data,
    $op = $isMax ? '<' : '>',
    $notOp = $isMax ? '>' : '<',
    $errorKeyword = undefined;
  if ($isDataExcl) ***REMOVED***
    var $schemaValueExcl = it.util.getData($schemaExcl.$data, $dataLvl, it.dataPathArr),
      $exclusive = 'exclusive' + $lvl,
      $exclType = 'exclType' + $lvl,
      $exclIsNumber = 'exclIsNumber' + $lvl,
      $opExpr = 'op' + $lvl,
      $opStr = '\' + ' + $opExpr + ' + \'';
    out += ' var schemaExcl' + ($lvl) + ' = ' + ($schemaValueExcl) + '; ';
    $schemaValueExcl = 'schemaExcl' + $lvl;
    out += ' var ' + ($exclusive) + '; var ' + ($exclType) + ' = typeof ' + ($schemaValueExcl) + '; if (' + ($exclType) + ' != \'boolean\' && ' + ($exclType) + ' != \'undefined\' && ' + ($exclType) + ' != \'number\') ***REMOVED*** ';
    var $errorKeyword = $exclusiveKeyword;
    var $$outStack = $$outStack || [];
    $$outStack.push(out);
    out = ''; /* istanbul ignore else */
    if (it.createErrors !== false) ***REMOVED***
      out += ' ***REMOVED*** keyword: \'' + ($errorKeyword || '_exclusiveLimit') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: ***REMOVED******REMOVED*** ';
      if (it.opts.messages !== false) ***REMOVED***
        out += ' , message: \'' + ($exclusiveKeyword) + ' should be boolean\' ';
      ***REMOVED***
      if (it.opts.verbose) ***REMOVED***
        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
      ***REMOVED***
      out += ' ***REMOVED*** ';
    ***REMOVED*** else ***REMOVED***
      out += ' ***REMOVED******REMOVED*** ';
    ***REMOVED***
    var __err = out;
    out = $$outStack.pop();
    if (!it.compositeRule && $breakOnError) ***REMOVED*** /* istanbul ignore if */
      if (it.async) ***REMOVED***
        out += ' throw new ValidationError([' + (__err) + ']); ';
      ***REMOVED*** else ***REMOVED***
        out += ' validate.errors = [' + (__err) + ']; return false; ';
      ***REMOVED***
    ***REMOVED*** else ***REMOVED***
      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
    ***REMOVED***
    out += ' ***REMOVED*** else if ( ';
    if ($isData) ***REMOVED***
      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \'number\') || ';
    ***REMOVED***
    out += ' ' + ($exclType) + ' == \'number\' ? ( (' + ($exclusive) + ' = ' + ($schemaValue) + ' === undefined || ' + ($schemaValueExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ') ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValueExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) : ( (' + ($exclusive) + ' = ' + ($schemaValueExcl) + ' === true) ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValue) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') ***REMOVED*** var op' + ($lvl) + ' = ' + ($exclusive) + ' ? \'' + ($op) + '\' : \'' + ($op) + '=\';';
  ***REMOVED*** else ***REMOVED***
    var $exclIsNumber = typeof $schemaExcl == 'number',
      $opStr = $op;
    if ($exclIsNumber && $isData) ***REMOVED***
      var $opExpr = '\'' + $opStr + '\'';
      out += ' if ( ';
      if ($isData) ***REMOVED***
        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \'number\') || ';
      ***REMOVED***
      out += ' ( ' + ($schemaValue) + ' === undefined || ' + ($schemaExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ' ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') ***REMOVED*** ';
    ***REMOVED*** else ***REMOVED***
      if ($exclIsNumber && $schema === undefined) ***REMOVED***
        $exclusive = true;
        $errorKeyword = $exclusiveKeyword;
        $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;
        $schemaValue = $schemaExcl;
        $notOp += '=';
      ***REMOVED*** else ***REMOVED***
        if ($exclIsNumber) $schemaValue = Math[$isMax ? 'min' : 'max']($schemaExcl, $schema);
        if ($schemaExcl === ($exclIsNumber ? $schemaValue : true)) ***REMOVED***
          $exclusive = true;
          $errorKeyword = $exclusiveKeyword;
          $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;
          $notOp += '=';
        ***REMOVED*** else ***REMOVED***
          $exclusive = false;
          $opStr += '=';
        ***REMOVED***
      ***REMOVED***
      var $opExpr = '\'' + $opStr + '\'';
      out += ' if ( ';
      if ($isData) ***REMOVED***
        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \'number\') || ';
      ***REMOVED***
      out += ' ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' || ' + ($data) + ' !== ' + ($data) + ') ***REMOVED*** ';
    ***REMOVED***
  ***REMOVED***
  $errorKeyword = $errorKeyword || $keyword;
  var $$outStack = $$outStack || [];
  $$outStack.push(out);
  out = ''; /* istanbul ignore else */
  if (it.createErrors !== false) ***REMOVED***
    out += ' ***REMOVED*** keyword: \'' + ($errorKeyword || '_limit') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: ***REMOVED*** comparison: ' + ($opExpr) + ', limit: ' + ($schemaValue) + ', exclusive: ' + ($exclusive) + ' ***REMOVED*** ';
    if (it.opts.messages !== false) ***REMOVED***
      out += ' , message: \'should be ' + ($opStr) + ' ';
      if ($isData) ***REMOVED***
        out += '\' + ' + ($schemaValue);
      ***REMOVED*** else ***REMOVED***
        out += '' + ($schemaValue) + '\'';
      ***REMOVED***
    ***REMOVED***
    if (it.opts.verbose) ***REMOVED***
      out += ' , schema:  ';
      if ($isData) ***REMOVED***
        out += 'validate.schema' + ($schemaPath);
      ***REMOVED*** else ***REMOVED***
        out += '' + ($schema);
      ***REMOVED***
      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
    ***REMOVED***
    out += ' ***REMOVED*** ';
  ***REMOVED*** else ***REMOVED***
    out += ' ***REMOVED******REMOVED*** ';
  ***REMOVED***
  var __err = out;
  out = $$outStack.pop();
  if (!it.compositeRule && $breakOnError) ***REMOVED*** /* istanbul ignore if */
    if (it.async) ***REMOVED***
      out += ' throw new ValidationError([' + (__err) + ']); ';
    ***REMOVED*** else ***REMOVED***
      out += ' validate.errors = [' + (__err) + ']; return false; ';
    ***REMOVED***
  ***REMOVED*** else ***REMOVED***
    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
  ***REMOVED***
  out += ' ***REMOVED*** ';
  if ($breakOnError) ***REMOVED***
    out += ' else ***REMOVED*** ';
  ***REMOVED***
  return out;
***REMOVED***
