'use strict';
module.exports = function generate_items(it, $keyword, $ruleType) ***REMOVED***
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $data = 'data' + ($dataLvl || '');
  var $valid = 'valid' + $lvl;
  var $errs = 'errs__' + $lvl;
  var $it = it.util.copy(it);
  var $closingBraces = '';
  $it.level++;
  var $nextValid = 'valid' + $it.level;
  var $idx = 'i' + $lvl,
    $dataNxt = $it.dataLevel = it.dataLevel + 1,
    $nextData = 'data' + $dataNxt,
    $currentBaseId = it.baseId;
  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';
  if (Array.isArray($schema)) ***REMOVED***
    var $additionalItems = it.schema.additionalItems;
    if ($additionalItems === false) ***REMOVED***
      out += ' ' + ($valid) + ' = ' + ($data) + '.length <= ' + ($schema.length) + '; ';
      var $currErrSchemaPath = $errSchemaPath;
      $errSchemaPath = it.errSchemaPath + '/additionalItems';
      out += '  if (!' + ($valid) + ') ***REMOVED***   ';
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = ''; /* istanbul ignore else */
      if (it.createErrors !== false) ***REMOVED***
        out += ' ***REMOVED*** keyword: \'' + ('additionalItems') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: ***REMOVED*** limit: ' + ($schema.length) + ' ***REMOVED*** ';
        if (it.opts.messages !== false) ***REMOVED***
          out += ' , message: \'should NOT have more than ' + ($schema.length) + ' items\' ';
        ***REMOVED***
        if (it.opts.verbose) ***REMOVED***
          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
        ***REMOVED***
        out += ' ***REMOVED*** ';
      ***REMOVED*** else ***REMOVED***
        out += ' ***REMOVED******REMOVED*** ';
      ***REMOVED***
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) ***REMOVED*** /* istanbul ignore if */
        if (it.async) ***REMOVED***
          out += ' throw new ValidationError([' + (__err) + ']); ';
        ***REMOVED*** else ***REMOVED***
          out += ' validate.errors = [' + (__err) + ']; return false; ';
        ***REMOVED***
      ***REMOVED*** else ***REMOVED***
        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
      ***REMOVED***
      out += ' ***REMOVED*** ';
      $errSchemaPath = $currErrSchemaPath;
      if ($breakOnError) ***REMOVED***
        $closingBraces += '***REMOVED***';
        out += ' else ***REMOVED*** ';
      ***REMOVED***
    ***REMOVED***
    var arr1 = $schema;
    if (arr1) ***REMOVED***
      var $sch, $i = -1,
        l1 = arr1.length - 1;
      while ($i < l1) ***REMOVED***
        $sch = arr1[$i += 1];
        if (it.util.schemaHasRules($sch, it.RULES.all)) ***REMOVED***
          out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($i) + ') ***REMOVED*** ';
          var $passData = $data + '[' + $i + ']';
          $it.schema = $sch;
          $it.schemaPath = $schemaPath + '[' + $i + ']';
          $it.errSchemaPath = $errSchemaPath + '/' + $i;
          $it.errorPath = it.util.getPathExpr(it.errorPath, $i, it.opts.jsonPointers, true);
          $it.dataPathArr[$dataNxt] = $i;
          var $code = it.validate($it);
          $it.baseId = $currentBaseId;
          if (it.util.varOccurences($code, $nextData) < 2) ***REMOVED***
            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';
          ***REMOVED*** else ***REMOVED***
            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';
          ***REMOVED***
          out += ' ***REMOVED***  ';
          if ($breakOnError) ***REMOVED***
            out += ' if (' + ($nextValid) + ') ***REMOVED*** ';
            $closingBraces += '***REMOVED***';
          ***REMOVED***
        ***REMOVED***
      ***REMOVED***
    ***REMOVED***
    if (typeof $additionalItems == 'object' && it.util.schemaHasRules($additionalItems, it.RULES.all)) ***REMOVED***
      $it.schema = $additionalItems;
      $it.schemaPath = it.schemaPath + '.additionalItems';
      $it.errSchemaPath = it.errSchemaPath + '/additionalItems';
      out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($schema.length) + ') ***REMOVED***  for (var ' + ($idx) + ' = ' + ($schema.length) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) ***REMOVED*** ';
      $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);
      var $passData = $data + '[' + $idx + ']';
      $it.dataPathArr[$dataNxt] = $idx;
      var $code = it.validate($it);
      $it.baseId = $currentBaseId;
      if (it.util.varOccurences($code, $nextData) < 2) ***REMOVED***
        out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';
      ***REMOVED*** else ***REMOVED***
        out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';
      ***REMOVED***
      if ($breakOnError) ***REMOVED***
        out += ' if (!' + ($nextValid) + ') break; ';
      ***REMOVED***
      out += ' ***REMOVED*** ***REMOVED***  ';
      if ($breakOnError) ***REMOVED***
        out += ' if (' + ($nextValid) + ') ***REMOVED*** ';
        $closingBraces += '***REMOVED***';
      ***REMOVED***
    ***REMOVED***
  ***REMOVED*** else if (it.util.schemaHasRules($schema, it.RULES.all)) ***REMOVED***
    $it.schema = $schema;
    $it.schemaPath = $schemaPath;
    $it.errSchemaPath = $errSchemaPath;
    out += '  for (var ' + ($idx) + ' = ' + (0) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) ***REMOVED*** ';
    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);
    var $passData = $data + '[' + $idx + ']';
    $it.dataPathArr[$dataNxt] = $idx;
    var $code = it.validate($it);
    $it.baseId = $currentBaseId;
    if (it.util.varOccurences($code, $nextData) < 2) ***REMOVED***
      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';
    ***REMOVED*** else ***REMOVED***
      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';
    ***REMOVED***
    if ($breakOnError) ***REMOVED***
      out += ' if (!' + ($nextValid) + ') break; ';
    ***REMOVED***
    out += ' ***REMOVED***';
  ***REMOVED***
  if ($breakOnError) ***REMOVED***
    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) ***REMOVED***';
  ***REMOVED***
  out = it.util.cleanUpCode(out);
  return out;
***REMOVED***
