'use strict';

var resolve = require('./resolve');

module.exports = ***REMOVED***
  Validation: errorSubclass(ValidationError),
  MissingRef: errorSubclass(MissingRefError)
***REMOVED***;


function ValidationError(errors) ***REMOVED***
  this.message = 'validation failed';
  this.errors = errors;
  this.ajv = this.validation = true;
***REMOVED***


MissingRefError.message = function (baseId, ref) ***REMOVED***
  return 'can\'t resolve reference ' + ref + ' from id ' + baseId;
***REMOVED***;


function MissingRefError(baseId, ref, message) ***REMOVED***
  this.message = message || MissingRefError.message(baseId, ref);
  this.missingRef = resolve.url(baseId, ref);
  this.missingSchema = resolve.normalizeId(resolve.fullPath(this.missingRef));
***REMOVED***


function errorSubclass(Subclass) ***REMOVED***
  Subclass.prototype = Object.create(Error.prototype);
  Subclass.prototype.constructor = Subclass;
  return Subclass;
***REMOVED***
