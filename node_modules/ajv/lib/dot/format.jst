***REMOVED******REMOVED***# def.definitions ***REMOVED******REMOVED***
***REMOVED******REMOVED***# def.errors ***REMOVED******REMOVED***
***REMOVED******REMOVED***# def.setupKeyword ***REMOVED******REMOVED***

***REMOVED******REMOVED***## def.skipFormat:
  ***REMOVED******REMOVED***? $breakOnError ***REMOVED******REMOVED*** if (true) ***REMOVED*** ***REMOVED******REMOVED***?***REMOVED******REMOVED***
  ***REMOVED******REMOVED*** return out; ***REMOVED******REMOVED***
#***REMOVED******REMOVED***

***REMOVED******REMOVED***? it.opts.format === false ***REMOVED******REMOVED******REMOVED******REMOVED***# def.skipFormat ***REMOVED******REMOVED******REMOVED******REMOVED***?***REMOVED******REMOVED***


***REMOVED******REMOVED***# def.$data ***REMOVED******REMOVED***


***REMOVED******REMOVED***## def.$dataCheckFormat:
  ***REMOVED******REMOVED***# def.$dataNotType:'string' ***REMOVED******REMOVED***
  (***REMOVED******REMOVED***? $unknownFormats != 'ignore' ***REMOVED******REMOVED***
     (***REMOVED******REMOVED***=$schemaValue***REMOVED******REMOVED*** && !***REMOVED******REMOVED***=$format***REMOVED******REMOVED***
      ***REMOVED******REMOVED***? $allowUnknown ***REMOVED******REMOVED***
        && self._opts.unknownFormats.indexOf(***REMOVED******REMOVED***=$schemaValue***REMOVED******REMOVED***) == -1
      ***REMOVED******REMOVED***?***REMOVED******REMOVED***) ||
   ***REMOVED******REMOVED***?***REMOVED******REMOVED***
   (***REMOVED******REMOVED***=$format***REMOVED******REMOVED*** && ***REMOVED******REMOVED***=$formatType***REMOVED******REMOVED*** == '***REMOVED******REMOVED***=$ruleType***REMOVED******REMOVED***'
                 && !(typeof ***REMOVED******REMOVED***=$format***REMOVED******REMOVED*** == 'function'
                     ? ***REMOVED******REMOVED***? it.async***REMOVED******REMOVED***
                        (async***REMOVED******REMOVED***=$lvl***REMOVED******REMOVED*** ? ***REMOVED******REMOVED***=it.yieldAwait***REMOVED******REMOVED*** ***REMOVED******REMOVED***=$format***REMOVED******REMOVED***(***REMOVED******REMOVED***=$data***REMOVED******REMOVED***) : ***REMOVED******REMOVED***=$format***REMOVED******REMOVED***(***REMOVED******REMOVED***=$data***REMOVED******REMOVED***))
                       ***REMOVED******REMOVED***??***REMOVED******REMOVED***
                        ***REMOVED******REMOVED***=$format***REMOVED******REMOVED***(***REMOVED******REMOVED***=$data***REMOVED******REMOVED***)
                       ***REMOVED******REMOVED***?***REMOVED******REMOVED***
                     : ***REMOVED******REMOVED***=$format***REMOVED******REMOVED***.test(***REMOVED******REMOVED***=$data***REMOVED******REMOVED***))))
#***REMOVED******REMOVED***

***REMOVED******REMOVED***## def.checkFormat:
  ***REMOVED******REMOVED***
    var $formatRef = 'formats' + it.util.getProperty($schema);
    if ($isObject) $formatRef += '.validate';
  ***REMOVED******REMOVED***
  ***REMOVED******REMOVED***? typeof $format == 'function' ***REMOVED******REMOVED***
    ***REMOVED******REMOVED***=$formatRef***REMOVED******REMOVED***(***REMOVED******REMOVED***=$data***REMOVED******REMOVED***)
  ***REMOVED******REMOVED***??***REMOVED******REMOVED***
    ***REMOVED******REMOVED***=$formatRef***REMOVED******REMOVED***.test(***REMOVED******REMOVED***=$data***REMOVED******REMOVED***)
  ***REMOVED******REMOVED***?***REMOVED******REMOVED***
#***REMOVED******REMOVED***


***REMOVED******REMOVED***
  var $unknownFormats = it.opts.unknownFormats
    , $allowUnknown = Array.isArray($unknownFormats);
***REMOVED******REMOVED***

***REMOVED******REMOVED***? $isData ***REMOVED******REMOVED***
  ***REMOVED******REMOVED***
    var $format = 'format' + $lvl
      , $isObject = 'isObject' + $lvl
      , $formatType = 'formatType' + $lvl;
  ***REMOVED******REMOVED***
  var ***REMOVED******REMOVED***=$format***REMOVED******REMOVED*** = formats[***REMOVED******REMOVED***=$schemaValue***REMOVED******REMOVED***];
  var ***REMOVED******REMOVED***=$isObject***REMOVED******REMOVED*** = typeof ***REMOVED******REMOVED***=$format***REMOVED******REMOVED*** == 'object'
                        && !(***REMOVED******REMOVED***=$format***REMOVED******REMOVED*** instanceof RegExp)
                        && ***REMOVED******REMOVED***=$format***REMOVED******REMOVED***.validate;
  var ***REMOVED******REMOVED***=$formatType***REMOVED******REMOVED*** = ***REMOVED******REMOVED***=$isObject***REMOVED******REMOVED*** && ***REMOVED******REMOVED***=$format***REMOVED******REMOVED***.type || 'string';
  if (***REMOVED******REMOVED***=$isObject***REMOVED******REMOVED***) ***REMOVED***
    ***REMOVED******REMOVED***? it.async***REMOVED******REMOVED***
      var async***REMOVED******REMOVED***=$lvl***REMOVED******REMOVED*** = ***REMOVED******REMOVED***=$format***REMOVED******REMOVED***.async;
    ***REMOVED******REMOVED***?***REMOVED******REMOVED***
    ***REMOVED******REMOVED***=$format***REMOVED******REMOVED*** = ***REMOVED******REMOVED***=$format***REMOVED******REMOVED***.validate;
  ***REMOVED***
  if (***REMOVED******REMOVED***# def.$dataCheckFormat ***REMOVED******REMOVED***) ***REMOVED***
***REMOVED******REMOVED***??***REMOVED******REMOVED***
  ***REMOVED******REMOVED*** var $format = it.formats[$schema]; ***REMOVED******REMOVED***
  ***REMOVED******REMOVED***? !$format ***REMOVED******REMOVED***
    ***REMOVED******REMOVED***? $unknownFormats == 'ignore' ***REMOVED******REMOVED***
      ***REMOVED******REMOVED*** it.logger.warn('unknown format "' + $schema + '" ignored in schema at path "' + it.errSchemaPath + '"'); ***REMOVED******REMOVED***
      ***REMOVED******REMOVED***# def.skipFormat ***REMOVED******REMOVED***
    ***REMOVED******REMOVED***?? $allowUnknown && $unknownFormats.indexOf($schema) >= 0 ***REMOVED******REMOVED***
      ***REMOVED******REMOVED***# def.skipFormat ***REMOVED******REMOVED***
    ***REMOVED******REMOVED***??***REMOVED******REMOVED***
      ***REMOVED******REMOVED*** throw new Error('unknown format "' + $schema + '" is used in schema at path "' + it.errSchemaPath + '"'); ***REMOVED******REMOVED***
    ***REMOVED******REMOVED***?***REMOVED******REMOVED***
  ***REMOVED******REMOVED***?***REMOVED******REMOVED***
  ***REMOVED******REMOVED***
    var $isObject = typeof $format == 'object'
                    && !($format instanceof RegExp)
                    && $format.validate;
    var $formatType = $isObject && $format.type || 'string';
    if ($isObject) ***REMOVED***
      var $async = $format.async === true;
      $format = $format.validate;
    ***REMOVED***
  ***REMOVED******REMOVED***
  ***REMOVED******REMOVED***? $formatType != $ruleType ***REMOVED******REMOVED***
    ***REMOVED******REMOVED***# def.skipFormat ***REMOVED******REMOVED***
  ***REMOVED******REMOVED***?***REMOVED******REMOVED***
  ***REMOVED******REMOVED***? $async ***REMOVED******REMOVED***
    ***REMOVED******REMOVED***
      if (!it.async) throw new Error('async format in sync schema');
      var $formatRef = 'formats' + it.util.getProperty($schema) + '.validate';
    ***REMOVED******REMOVED***
    if (!(***REMOVED******REMOVED***=it.yieldAwait***REMOVED******REMOVED*** ***REMOVED******REMOVED***=$formatRef***REMOVED******REMOVED***(***REMOVED******REMOVED***=$data***REMOVED******REMOVED***))) ***REMOVED***
  ***REMOVED******REMOVED***??***REMOVED******REMOVED***
    if (!***REMOVED******REMOVED***# def.checkFormat ***REMOVED******REMOVED***) ***REMOVED***
  ***REMOVED******REMOVED***?***REMOVED******REMOVED***
***REMOVED******REMOVED***?***REMOVED******REMOVED***
    ***REMOVED******REMOVED***# def.error:'format' ***REMOVED******REMOVED***
  ***REMOVED*** ***REMOVED******REMOVED***? $breakOnError ***REMOVED******REMOVED*** else ***REMOVED*** ***REMOVED******REMOVED***?***REMOVED******REMOVED***
