'use strict';

const assert = require('assert');
const Kareem = require('../');

describe('hasHooks', function() ***REMOVED***
  it('returns false for toString (Automattic/mongoose#6538)', function() ***REMOVED***
    const k = new Kareem();
    assert.ok(!k.hasHooks('toString'));
  ***REMOVED***);
***REMOVED***);

describe('merge', function() ***REMOVED***
  it('handles async pres if source doesnt have them', function() ***REMOVED***
    const k1 = new Kareem();
    k1.pre('cook', true, function(next, done) ***REMOVED***
      execed.first = true;
      setTimeout(
        function() ***REMOVED***
          done('error!');
        ***REMOVED***,
        5);

      next();
    ***REMOVED***);

    assert.equal(k1._pres.get('cook').numAsync, 1);

    const k2 = new Kareem();
    const k3 = k2.merge(k1);
    assert.equal(k3._pres.get('cook').numAsync, 1);
  ***REMOVED***);
***REMOVED***);
